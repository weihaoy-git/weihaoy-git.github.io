<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="robots" content="noindex"><meta><title>Category: LeetCode - Yenotes</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Yenotes"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Yenotes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Yenotes"><meta property="og:url" content="http://yenotes.org/"><meta property="og:site_name" content="Yenotes"><meta property="og:locale" content="en_US"><meta property="og:image" content="http://yenotes.org/img/og_image.png"><meta property="article:author" content="Weihao Ye"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://yenotes.org"},"headline":"Yenotes","image":["http://yenotes.org/img/og_image.png"],"author":{"@type":"Person","name":"Weihao Ye"},"publisher":{"@type":"Organization","name":"Yenotes","logo":{"@type":"ImageObject","url":"http://yenotes.org/img/icon_and_name_middle.png"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/icon_and_name_middle.png" alt="Yenotes" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/weihaoy-git.github.io"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-10-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">Categories</a></li><li class="is-active"><a href="#" aria-current="page">LeetCode</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-10T01:13:47.000Z" title="1/9/2022, 8:13:47 PM">2022-01-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-10T01:14:51.534Z" title="1/9/2022, 8:14:51 PM">2022-01-09</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/09/LeetCode-76-Minimum-Window-Substring/">LeetCode 76. Minimum Window Substring</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Given two strings <code>s</code> and <code>t</code> of lengths <code>m</code> and <code>n</code> respectively, return <em>the <strong>minimum window substring</strong> of</em> <code>s</code> <em>such that every character in</em> <code>t</code> <em>(<strong>including duplicates</strong>) is included in the window. If there is no such substring</em><em>, return the empty string</em> <code>&quot;&quot;</code><em>.</em></p>
<p>The testcases will be generated such that the answer is <strong>unique</strong>.</p>
<p>A <strong>substring</strong> is a contiguous sequence of characters within the string.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;ADOBECODEBANC&quot;, t = &quot;ABC&quot;</span><br><span class="line">Output: &quot;BANC&quot;</span><br><span class="line">Explanation: The minimum window substring &quot;BANC&quot; includes &#x27;A&#x27;, &#x27;B&#x27;, and &#x27;C&#x27; from string t.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;a&quot;, t = &quot;a&quot;</span><br><span class="line">Output: &quot;a&quot;</span><br><span class="line">Explanation: The entire string s is the minimum window.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;a&quot;, t = &quot;aa&quot;</span><br><span class="line">Output: &quot;&quot;</span><br><span class="line">Explanation: Both &#x27;a&#x27;s from t must be included in the window.</span><br><span class="line">Since the largest window of s only has one &#x27;a&#x27;, return empty string.</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>m == s.length</code></li>
<li><code>n == t.length</code></li>
<li><code>1 &lt;= m, n &lt;= 105</code></li>
<li><code>s</code> and <code>t</code> consist of uppercase and lowercase English letters.</li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-window-substring/">https://leetcode.com/problems/minimum-window-substring/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>We first expand the right end of the window to find a valid window. Then we shrink the left end to find a candidate min window.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// sliding window, Time complexity O(s.length() + t.length())</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> tLen = t.length();</span><br><span class="line">    <span class="keyword">int</span> sLen = s.length();</span><br><span class="line">    <span class="keyword">int</span> minWindowLen = sLen + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// two ends of the window with min length, both inclusive</span></span><br><span class="line">    <span class="keyword">int</span> minWindowLeft = <span class="number">0</span>, minWindowRight = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// the dictionary that describes characters to be included in desired window</span></span><br><span class="line">    Map&lt;Character, Integer&gt; dict = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    Map&lt;Character, Integer&gt; wordCount = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tLen; i++) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = t.charAt(i);</span><br><span class="line">        dict.put(c, dict.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// number of requirements to meet</span></span><br><span class="line">    <span class="keyword">int</span> toMeet = dict.size();</span><br><span class="line">    <span class="keyword">while</span> (left &lt; sLen &amp;&amp; right &lt; sLen) &#123;</span><br><span class="line">        <span class="keyword">char</span> c = s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span> (dict.containsKey(c)) &#123;</span><br><span class="line">            wordCount.put(c, wordCount.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (wordCount.get(c).intValue() == dict.get(c).intValue()) &#123;</span><br><span class="line">                toMeet--;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// valid window</span></span><br><span class="line">            <span class="keyword">while</span> (toMeet == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">// check and record current min window</span></span><br><span class="line">                <span class="keyword">if</span> (right - left + <span class="number">1</span> &lt; minWindowLen) &#123;</span><br><span class="line">                    minWindowLen = right - left + <span class="number">1</span>;</span><br><span class="line">                    minWindowLeft = left;</span><br><span class="line">                    minWindowRight = right;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// shrink window</span></span><br><span class="line">                <span class="keyword">char</span> cRemove = s.charAt(left);</span><br><span class="line">                <span class="keyword">if</span> (dict.containsKey(cRemove)) &#123;</span><br><span class="line">                    wordCount.put(cRemove, wordCount.get(cRemove) - <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (wordCount.get(cRemove) &lt; dict.get(cRemove)) &#123;</span><br><span class="line">                        toMeet++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// invalid window, expand right end</span></span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minWindowLen == sLen + <span class="number">1</span> ? <span class="string">&quot;&quot;</span> : s.substring(minWindowLeft, minWindowRight + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-10T00:59:47.000Z" title="1/9/2022, 7:59:47 PM">2022-01-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-10T01:00:29.831Z" title="1/9/2022, 8:00:29 PM">2022-01-09</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/09/LeetCode-862-Shortest-Subarray-with-Sum-at-Least-K/">LeetCode 862. Shortest Subarray with Sum at Least K</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Given an integer array <code>nums</code> and an integer <code>k</code>, return <em>the length of the shortest non-empty <strong>subarray</strong> of</em> <code>nums</code> <em>with a sum of at least</em> <code>k</code>. If there is no such <strong>subarray</strong>, return <code>-1</code>.</p>
<p>A <strong>subarray</strong> is a <strong>contiguous</strong> part of an array.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1], k = 1</span><br><span class="line">Output: 1</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,2], k = 4</span><br><span class="line">Output: -1</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [2,-1,2], k = 3</span><br><span class="line">Output: 3 </span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>-105 &lt;= nums[i] &lt;= 105</code></li>
<li><code>1 &lt;= k &lt;= 109</code></li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/">https://leetcode.com/problems/shortest-subarray-with-sum-at-least-k/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>We use prefix sum to simplify the sum of subarray. The sum of any subarray can be calculated from prefix sum. This idea is similar to the usage of common prefix/suffix in <a href="https://yenotes.org/2022/01/08/LeetCode-718-Maximum-Length-of-Repeated-Subarray/">LeetCode 718. Maximum Length of Repeated Subarray</a>.</p>
<p>We use a for loop to traverse ends of prefix sums <code>prefixSums[y]</code>, a monotonic queue to maintain starts of prefix sums <code>prefixSums[x]</code>. For valid combinations of prefix sums (i.e. <code>prefixSums[y]-prefixSums[x]&gt;=k</code>), smaller <code>y</code>, larger <code>x</code> and larger <code>prefixSums[x]</code> have advantage.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2D DP, O(n^2), Memory Limit Exceeded</span></span><br><span class="line"><span class="comment">// still has redundant computation</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestSubarray</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span> minLen = len + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// dp[i][j] is the sum of subarray nums[i:j] (both ends are inclusive)</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len][len];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> m = <span class="number">0</span>; m &lt; len; m++) &#123;</span><br><span class="line">        dp[m][m] = nums[m];</span><br><span class="line">        <span class="keyword">if</span> (dp[m][m] &gt;= k) &#123;</span><br><span class="line">            <span class="comment">// can also return early</span></span><br><span class="line">            minLen = Math.min(minLen, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; len; j++) &#123;</span><br><span class="line">            dp[i][j] = dp[i][j - <span class="number">1</span>] + nums[j]; <span class="comment">// repeat same computation</span></span><br><span class="line">            <span class="keyword">if</span> (dp[i][j] &gt;= k) &#123;</span><br><span class="line">                minLen = Math.min(minLen, j - i + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen == len + <span class="number">1</span> ? -<span class="number">1</span> : minLen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// monotonic queue, O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">shortestSubarray2</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span> minLen = len + <span class="number">1</span>;</span><br><span class="line">    <span class="comment">// prefixSums[i] is the sum of nums[:i] (exclusive)</span></span><br><span class="line">    <span class="keyword">long</span>[] prefixSums = <span class="keyword">new</span> <span class="keyword">long</span>[len + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// calculate prefix sum</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= len; i++) &#123;</span><br><span class="line">        prefixSums[i] = prefixSums[i - <span class="number">1</span>] + nums[i - <span class="number">1</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// mono-dequeue, each element is the index of prefixSums,</span></span><br><span class="line">    <span class="comment">// prefixSums[i] ascending</span></span><br><span class="line">    Deque&lt;Integer&gt; monoDeque = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// sum of subarray nums[x:y] (x inclusive, y exclusive) = prefixSums[y] - prefixSums[x]</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> y = <span class="number">0</span>; y &lt;= len; y++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!monoDeque.isEmpty() &amp;&amp; prefixSums[y] - prefixSums[monoDeque.getFirst()] &gt;= k) &#123;</span><br><span class="line">            <span class="keyword">int</span> x = monoDeque.removeFirst();</span><br><span class="line">            minLen = Math.min(minLen, y - x);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!monoDeque.isEmpty() &amp;&amp; prefixSums[y] &lt;= prefixSums[monoDeque.getLast()]) &#123;</span><br><span class="line">            monoDeque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        monoDeque.addLast(y);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen == len + <span class="number">1</span> ? -<span class="number">1</span> : minLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-09T22:30:29.000Z" title="1/9/2022, 5:30:29 PM">2022-01-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-09T22:55:23.340Z" title="1/9/2022, 5:55:23 PM">2022-01-09</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/09/LeetCode-239-Sliding-Window-Maximum/">LeetCode 239. Sliding Window Maximum</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>You are given an array of integers <code>nums</code>, there is a sliding window of size <code>k</code> which is moving from the very left of the array to the very right. You can only see the <code>k</code> numbers in the window. Each time the sliding window moves right by one position.</p>
<p>Return <em>the max sliding window</em>. </p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1,3,-1,-3,5,3,6,7], k = 3</span><br><span class="line">Output: [3,3,5,5,6,7]</span><br><span class="line">Explanation: </span><br><span class="line">Window position                Max</span><br><span class="line">---------------               -----</span><br><span class="line">[1  3  -1] -3  5  3  6  7       3</span><br><span class="line"> 1 [3  -1  -3] 5  3  6  7       3</span><br><span class="line"> 1  3 [-1  -3  5] 3  6  7       5</span><br><span class="line"> 1  3  -1 [-3  5  3] 6  7       5</span><br><span class="line"> 1  3  -1  -3 [5  3  6] 7       6</span><br><span class="line"> 1  3  -1  -3  5 [3  6  7]      7</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums = [1], k = 1</span><br><span class="line">Output: [1]</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums.length &lt;= 105</code></li>
<li><code>-104 &lt;= nums[i] &lt;= 104</code></li>
<li><code>1 &lt;= k &lt;= nums.length</code></li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/sliding-window-maximum/">https://leetcode.com/problems/sliding-window-maximum/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>As the window slides, we add a new element on right and discard an element on left. Because we discard elements from the window, we use a data structure to maintain all potential max values in the future (like <a href="https://yenotes.org/2022/01/09/LeetCode-155-Min-Stack/">LeetCode 155. Min Stack</a>). Thus, we always push the new elment in to the queue when the window expands on right.</p>
<p>If we find that the new element is greater than several previous elements, it means that the new element becomes the new “guardian”. The previous guardians that are smaller than this new guardian can be removed from the queue. Because they will be discarded eariler than the new guardian and will never become the max. In other words, <strong>elements with a larger index <em>and</em> a larger corresponding value have an overwhelming advantage in competing for max</strong>.</p>
<img src="https://i.imgur.com/d1Gexsl.png" alt="lc239-illustration1" style="zoom:50%;" />

<p>The indexes in the monotonic queue are not necessarily consecutive. And this monotonic queue guarantees that <strong>these indexes are in ascending order</strong> and <strong>their corresponding elements in <code>nums</code> are in descending order</strong>.</p>
<p>Because we need to repeatedly remove elements from the head and tail of the queue and append elements to the tail of the queue, we choose <code>LinkedList</code> as the instance class of our monotonic queue.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// monotonic deque O(n)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] maxSlidingWindow2(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k) &#123;</span><br><span class="line">    <span class="keyword">int</span> len = nums.length;</span><br><span class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span>[len - k + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">// part indexes of elements in current window</span></span><br><span class="line">    <span class="comment">// i_&#123;k&#125;(max), i_&#123;m&#125;, i_&#123;n&#125;, ..., i_&#123;right&#125;</span></span><br><span class="line">    <span class="comment">// \head i_&#123;k&#125; &lt; i_&#123;m&#125; &lt; i_&#123;n&#125; &lt; ... &lt; i_&#123;right&#125; \tail</span></span><br><span class="line">    <span class="comment">// \head nums[i_&#123;k&#125;] &gt;= nums[i_&#123;m&#125;] &gt;= nums[i_&#123;n&#125;] &gt;= ... &gt;= nums[i_&#123;right&#125;] \tail</span></span><br><span class="line">    Deque&lt;Integer&gt; monoDeque = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">    <span class="comment">// queue initialization with the first window</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; k; i++) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!monoDeque.isEmpty() &amp;&amp; nums[monoDeque.getLast()] &lt; nums[i]) &#123;</span><br><span class="line">            monoDeque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        monoDeque.addLast(i);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result[<span class="number">0</span>] = nums[monoDeque.getFirst()];</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">1</span>, right = k;</span><br><span class="line">    <span class="keyword">for</span> (; right &lt; len; left++, right++) &#123;</span><br><span class="line">        <span class="comment">// max is to be removed</span></span><br><span class="line">        <span class="keyword">if</span> (!monoDeque.isEmpty() &amp;&amp; monoDeque.getFirst() == left - <span class="number">1</span>) &#123;</span><br><span class="line">            monoDeque.removeFirst();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!monoDeque.isEmpty() &amp;&amp; nums[monoDeque.getLast()] &lt; nums[right]) &#123;</span><br><span class="line">            monoDeque.removeLast();</span><br><span class="line">        &#125;</span><br><span class="line">        monoDeque.addLast(right);</span><br><span class="line">        result[left] = nums[monoDeque.getFirst()];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-09T15:42:01.000Z" title="1/9/2022, 10:42:01 AM">2022-01-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-09T19:55:56.881Z" title="1/9/2022, 2:55:56 PM">2022-01-09</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/09/LeetCode-3-Longest-Substring-Without-Repeating-Characters/">LeetCode 3. Longest Substring Without Repeating Characters</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Given a string <code>s</code>, find the length of the <strong>longest substring</strong> without repeating characters.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;abcabcbb&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;abc&quot;, with the length of 3.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;bbbbb&quot;</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The answer is &quot;b&quot;, with the length of 1.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: s = &quot;pwwkew&quot;</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The answer is &quot;wke&quot;, with the length of 3.</span><br><span class="line">Notice that the answer must be a substring, &quot;pwke&quot; is a subsequence and not a substring.</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>0 &lt;= s.length &lt;= 5 * 104</code></li>
<li><code>s</code> consists of English letters, digits, symbols and spaces</li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-substring-without-repeating-characters/">https://leetcode.com/problems/longest-substring-without-repeating-characters/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Sliding window is an optimization for brutal force search. When searching substrings that satisfy certain conditions, we do not have to examine every substring. In some cases, we can end up some search paths early and try another direction, which is similar to pruning in DFS.</p>
<p>Take the following string as an example. It is meaningless to check substrings that start with ‘a’, ‘b’, ‘c’ and the first ‘5’ because they will definitely include repeating ‘5’ if they have a larger or the same length. </p>
<img src="https://i.imgur.com/WsF5J5n.png" alt="lc3-illustration1" style="zoom:50%;" />

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// brutal force, O(n^2)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring0</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();</span><br><span class="line">    <span class="keyword">int</span> maxSubLen = <span class="number">0</span>;</span><br><span class="line">    Set&lt;Character&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</span><br><span class="line">    <span class="comment">// i, j are the left and right end (inclusive) of a substring</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; len; j++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = s.charAt(j);</span><br><span class="line">            <span class="keyword">if</span> (set.contains(c)) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                set.add(c);</span><br><span class="line">                maxSubLen = Math.max(maxSubLen, j - i + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        set.clear();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSubLen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// sliding window, O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring1</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();</span><br><span class="line">    <span class="keyword">int</span> maxSubLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// character -&gt; frequency in the current substring</span></span><br><span class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (left &lt; len &amp;&amp; right &lt; len) &#123;</span><br><span class="line">        <span class="keyword">char</span> cright = s.charAt(right);</span><br><span class="line">        <span class="keyword">while</span> (map.getOrDefault(cright, <span class="number">0</span>) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">char</span> cleft = s.charAt(left);</span><br><span class="line">            map.put(cleft, map.get(cleft) - <span class="number">1</span>);</span><br><span class="line">            left++;</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(cright, <span class="number">1</span>);</span><br><span class="line">        maxSubLen = Math.max(maxSubLen, right - left + <span class="number">1</span>);</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSubLen;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// optimized sliding window, O(n)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring2</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len = s.length();</span><br><span class="line">    <span class="keyword">int</span> maxSubLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// character -&gt; last index of this character</span></span><br><span class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (left &lt; len &amp;&amp; right &lt; len) &#123;</span><br><span class="line">        <span class="keyword">char</span> cright = s.charAt(right);</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(cright)) &#123;</span><br><span class="line">            <span class="comment">// when left end moving forward, we do not remove kv pairs from map</span></span><br><span class="line">            <span class="comment">// only if the last index of cright is within the range of current substring</span></span><br><span class="line">            <span class="comment">// we move left forward</span></span><br><span class="line">            left = Math.max(left, map.get(cright) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        map.put(cright, right);</span><br><span class="line">        maxSubLen = Math.max(maxSubLen, right - left + <span class="number">1</span>);</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSubLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-09T15:28:52.000Z" title="1/9/2022, 10:28:52 AM">2022-01-09</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-09T15:29:35.448Z" title="1/9/2022, 10:29:35 AM">2022-01-09</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/09/LeetCode-155-Min-Stack/">LeetCode 155. Min Stack</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Design a stack that supports push, pop, top, and retrieving the minimum element in constant time.</p>
<p>Implement the <code>MinStack</code> class:</p>
<ul>
<li><code>MinStack()</code> initializes the stack object.</li>
<li><code>void push(int val)</code> pushes the element <code>val</code> onto the stack.</li>
<li><code>void pop()</code> removes the element on the top of the stack.</li>
<li><code>int top()</code> gets the top element of the stack.</li>
<li><code>int getMin()</code> retrieves the minimum element in the stack.</li>
</ul>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Input</span><br><span class="line">[&quot;MinStack&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;getMin&quot;,&quot;pop&quot;,&quot;top&quot;,&quot;getMin&quot;]</span><br><span class="line">[[],[-2],[0],[-3],[],[],[],[]]</span><br><span class="line"></span><br><span class="line">Output</span><br><span class="line">[null,null,null,null,-3,null,0,-2]</span><br><span class="line"></span><br><span class="line">Explanation</span><br><span class="line">MinStack minStack = new MinStack();</span><br><span class="line">minStack.push(-2);</span><br><span class="line">minStack.push(0);</span><br><span class="line">minStack.push(-3);</span><br><span class="line">minStack.getMin(); // return -3</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();    // return 0</span><br><span class="line">minStack.getMin(); // return -2</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>-231 &lt;= val &lt;= 231 - 1</code></li>
<li>Methods <code>pop</code>, <code>top</code> and <code>getMin</code> operations will always be called on <strong>non-empty</strong> stacks.</li>
<li>At most <code>3 * 104</code> calls will be made to <code>push</code>, <code>pop</code>, <code>top</code>, and <code>getMin</code>.</li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/min-stack/">https://leetcode.com/problems/min-stack/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>We use a monotonic stack to maintain potential min elements in the future. Monotonic data structures are very effective in solving max/min problems.</p>
<p>This solution can be further optimized. For example, we can replace <code>mins</code> with an object stack that contains <code>&lt;value, times&gt;</code>, so that we can save space when there are many mins with the same value.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Deque&lt;Integer&gt; stack;</span><br><span class="line">    <span class="comment">// stack of candidate minimums</span></span><br><span class="line">    <span class="comment">// only keep candidates that can be the min after a series of operations</span></span><br><span class="line">    <span class="keyword">private</span> Deque&lt;Integer&gt; mins;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.stack = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">        <span class="keyword">this</span>.mins = <span class="keyword">new</span> ArrayDeque&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</span><br><span class="line">        stack.push(val);</span><br><span class="line">        <span class="keyword">if</span> (mins.isEmpty()) &#123;</span><br><span class="line">            mins.push(val);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (val &lt;= mins.peek()) &#123;</span><br><span class="line">            mins.push(val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @pre: stack is not empty</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">int</span> val = stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (val == mins.peek()) &#123;</span><br><span class="line">            mins.pop();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @pre: stack is not empty</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> stack.peek().intValue();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// @pre: stack is not empty</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> mins.peek();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-09T03:13:04.000Z" title="1/8/2022, 10:13:04 PM">2022-01-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-09T03:14:03.952Z" title="1/8/2022, 10:14:03 PM">2022-01-08</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/08/LeetCode-718-Maximum-Length-of-Repeated-Subarray/">LeetCode 718. Maximum Length of Repeated Subarray</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Given two integer arrays <code>nums1</code> and <code>nums2</code>, return <em>the maximum length of a subarray that appears in <strong>both</strong> arrays</em>. </p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [1,2,3,2,1], nums2 = [3,2,1,4,7]</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The repeated subarray with maximum length is [3,2,1].</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: nums1 = [0,0,0,0,0], nums2 = [0,0,0,0,0]</span><br><span class="line">Output: 5</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= nums1.length, nums2.length &lt;= 1000</code></li>
<li><code>0 &lt;= nums1[i], nums2[i] &lt;= 100</code></li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/maximum-length-of-repeated-subarray/">https://leetcode.com/problems/maximum-length-of-repeated-subarray/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>The key idea of the transition equation is that a long common string (array) must contain short common strings (arrays). Thus, a long common string can be grown from a short common string.</p>
<p>We simplify the searching process by searching common prefix <code>num[i:]</code>, so that we only need to move one end of the string (array). Also, common suffix has the same effect.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// DP, prefix</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findLength</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> len1 = nums1.length;</span><br><span class="line">    <span class="keyword">int</span> len2 = nums2.length;</span><br><span class="line">    <span class="keyword">int</span> maxCommonLen = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// dp[i][j] is the max length of common prefix of nums1[i:] and nums2[j:]</span></span><br><span class="line">    <span class="comment">// elements on the redundant row and column are initialized to zero, simplify the implementation</span></span><br><span class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[len1 + <span class="number">1</span>][len2 + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = len1 - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = len2 - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums1[i] == nums2[j]) &#123;</span><br><span class="line">                dp[i][j] = dp[i + <span class="number">1</span>][j + <span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                dp[i][j] = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            maxCommonLen = Math.max(maxCommonLen, dp[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxCommonLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2022-01-08T23:40:36.000Z" title="1/8/2022, 6:40:36 PM">2022-01-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-08T23:44:16.437Z" title="1/8/2022, 6:44:16 PM">2022-01-08</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2022/01/08/LeetCode-1335-Minimum-Difficulty-of-a-Job-Schedule/">LeetCode 1335. Minimum Difficulty of a Job Schedule</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>You want to schedule a list of jobs in <code>d</code> days. Jobs are dependent (i.e To work on the <code>ith</code> job, you have to finish all the jobs <code>j</code> where <code>0 &lt;= j &lt; i</code>).</p>
<p>You have to finish <strong>at least</strong> one task every day. The difficulty of a job schedule is the sum of difficulties of each day of the <code>d</code> days. The difficulty of a day is the maximum difficulty of a job done on that day.</p>
<p>You are given an integer array <code>jobDifficulty</code> and an integer <code>d</code>. The difficulty of the <code>ith</code> job is <code>jobDifficulty[i]</code>.</p>
<p>Return <em>the minimum difficulty of a job schedule</em>. If you cannot find a schedule for the jobs return <code>-1</code>.</p>
<p><strong>Example 1:</strong></p>
<p><img src="https://i.imgur.com/WkDIoPQ.png" alt="lc1335-example1"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty = [6,5,4,3,2,1], d = 2</span><br><span class="line">Output: 7</span><br><span class="line">Explanation: First day you can finish the first 5 jobs, total difficulty = 6.</span><br><span class="line">Second day you can finish the last job, total difficulty = 1.</span><br><span class="line">The difficulty of the schedule = 6 + 1 = 7 </span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty = [9,9,9], d = 4</span><br><span class="line">Output: -1</span><br><span class="line">Explanation: If you finish a job per day you will still have a free day. you cannot find a schedule for the given jobs.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: jobDifficulty = [1,1,1], d = 3</span><br><span class="line">Output: 3</span><br><span class="line">Explanation: The schedule is one job per day. total difficulty will be 3.</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= jobDifficulty.length &lt;= 300</code></li>
<li><code>0 &lt;= jobDifficulty[i] &lt;= 1000</code></li>
<li><code>1 &lt;= d &lt;= 10</code></li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-difficulty-of-a-job-schedule/">https://leetcode.com/problems/minimum-difficulty-of-a-job-schedule/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>In this problem, jobs are dependent so we can only complete jobs sequentially. For a day,  we only need to consider the start job index <code>m</code> and the end job index <code>n</code>, which means on that day we complete all jobs between job <code>m</code> and job <code>n</code> (inclusive).</p>
<p><code>cache[i][j]</code> represents the minimum sum of difficulties when completing the first <code>j+1</code> jobs in <code>i+1</code> days.</p>
<p>In the following code block, we traverse the start job index from high to low. It gets the max difficulty of jobs on that day more efficiently.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &gt;= i; k--) &#123;</span><br><span class="line">    dayMax = Math.max(dayMax, jobDifficulty[k]);</span><br><span class="line">    cache[i][j] = Math.min(cache[i][j], cache[i - <span class="number">1</span>][k - <span class="number">1</span>] + dayMax);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bottom-up 2D DP, time complexity O(nnd), space complexity O(nd)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDifficulty</span><span class="params">(<span class="keyword">int</span>[] jobDifficulty, <span class="keyword">int</span> d)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// parameter validation</span></span><br><span class="line">    <span class="keyword">if</span> (d &lt; <span class="number">1</span> || jobDifficulty == <span class="keyword">null</span> || jobDifficulty.length &lt; <span class="number">1</span> || jobDifficulty.length &lt; d) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> n = jobDifficulty.length; <span class="comment">// number of jobs</span></span><br><span class="line">    <span class="comment">// cache for DP</span></span><br><span class="line">    <span class="comment">// cache[i][j] represents the min sum of difficulties when completing jobs up to j job on i day</span></span><br><span class="line">    <span class="keyword">int</span>[][] cache = <span class="keyword">new</span> <span class="keyword">int</span>[d][n];</span><br><span class="line">    cache[<span class="number">0</span>][<span class="number">0</span>] = jobDifficulty[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; n; j++) &#123;</span><br><span class="line">        cache[<span class="number">0</span>][j] = Math.max(cache[<span class="number">0</span>][j - <span class="number">1</span>], jobDifficulty[j]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; d; i++) &#123;</span><br><span class="line">        <span class="comment">// only use a half of the cache because we must complete at least one job per day</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i; j &lt; n; j++) &#123;</span><br><span class="line">            cache[i][j] = Integer.MAX_VALUE;</span><br><span class="line">            <span class="keyword">int</span> dayMax = Integer.MIN_VALUE;</span><br><span class="line">            <span class="comment">// k is the index of start job on i day</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &gt;= i; k--) &#123;</span><br><span class="line">                dayMax = Math.max(dayMax, jobDifficulty[k]);</span><br><span class="line">                cache[i][j] = Math.min(cache[i][j], cache[i - <span class="number">1</span>][k - <span class="number">1</span>] + dayMax);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cache[d - <span class="number">1</span>][n - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-12-31T04:01:24.000Z" title="12/30/2021, 11:01:24 PM">2021-12-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-08T23:42:34.945Z" title="1/8/2022, 6:42:34 PM">2022-01-08</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/12/30/LeetCode-271-Encode-and-Decode-String/">LeetCode 271. Encode and Decode String</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>Design an algorithm to encode <strong>a list of strings</strong> to <strong>a string</strong>. The encoded string is then sent over the network and is decoded back to the original list of strings.</p>
<p>Machine 1 (sender) has the function:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">string encode(vector&lt;string&gt; strs) &#123;</span><br><span class="line">  // ... your code</span><br><span class="line">  return encoded_string;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Machine 2 (receiver) has the function:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;string&gt; decode(string s) &#123;</span><br><span class="line">  //... your code</span><br><span class="line">  return strs;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>So Machine 1 does:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">string encoded_string = encode(strs);</span><br></pre></td></tr></table></figure>

<p>and Machine 2 does:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vector&lt;string&gt; strs2 = decode(encoded_string);</span><br></pre></td></tr></table></figure>

<p><code>strs2</code> in Machine 2 should be the same as <code>strs</code> in Machine 1.</p>
<p>Implement the <code>encode</code> and <code>decode</code> methods.</p>
<p>You are not allowed to solve the problem using any serialize methods (such as <code>eval</code>).</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Input: dummy_input = [&quot;Hello&quot;,&quot;World&quot;]</span><br><span class="line">Output: [&quot;Hello&quot;,&quot;World&quot;]</span><br><span class="line">Explanation:</span><br><span class="line">Machine 1:</span><br><span class="line">Codec encoder = new Codec();</span><br><span class="line">String msg = encoder.encode(strs);</span><br><span class="line">Machine 1 ---msg---&gt; Machine 2</span><br><span class="line"></span><br><span class="line">Machine 2:</span><br><span class="line">Codec decoder = new Codec();</span><br><span class="line">String[] strs = decoder.decode(msg);</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: dummy_input = [&quot;&quot;]</span><br><span class="line">Output: [&quot;&quot;]</span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= strs.length &lt;= 200</code></li>
<li><code>0 &lt;= strs[i].length &lt;= 200</code></li>
<li><code>strs[i]</code> contains any possible characters out of <code>256</code> valid ASCII characters.</li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/encode-and-decode-strings/">https://leetcode.com/problems/encode-and-decode-strings/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>The best solution is to add a header that represents the length of each string instead of using delimiter. Strings will be concatenated as <code>header-payload-header-...</code>.</p>
<p>Note that we call <code>toCharArray</code> method rather than <code>getBytes()</code>. We do not care about the content of payload so that we do not need to encode/decode strings. Also, on some OA platforms, we may need to import desired character set manually.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// encode a 32-bit integer to a char array, according to little endian</span></span><br><span class="line"><span class="comment">// then convert the byte array into a string</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> String <span class="title">int2string</span><span class="params">(<span class="keyword">int</span> len)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] bytes = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">4</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        bytes[i] = (<span class="keyword">char</span>) ((len &gt;&gt; (i * <span class="number">8</span>)) &amp; <span class="number">0xff</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> String(bytes);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// decode a 32-bit string to int</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">string2int</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">char</span>[] bytes = s.toCharArray();</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123;</span><br><span class="line">        len += ((<span class="keyword">int</span>) (bytes[i])) &lt;&lt; (i * <span class="number">8</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Encodes a list of strings to a single string.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</span><br><span class="line">    StringBuilder builder = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">    <span class="keyword">for</span> (String str : strs) &#123;</span><br><span class="line">        builder.append(int2string(str.length()));</span><br><span class="line">        builder.append(str);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> builder.toString();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Decodes a single string to a list of strings.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</span><br><span class="line">    List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    <span class="keyword">while</span> (i &lt; s.length()) &#123;</span><br><span class="line">        <span class="keyword">int</span> strLen = string2int(s.substring(i, i + <span class="number">4</span>));</span><br><span class="line">        i += <span class="number">4</span>;</span><br><span class="line">        res.add(s.substring(i, i + strLen));</span><br><span class="line">        i += strLen;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-12-30T21:55:39.000Z" title="12/30/2021, 4:55:39 PM">2021-12-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-08T23:42:24.187Z" title="1/8/2022, 6:42:24 PM">2022-01-08</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/12/30/LeetCode-1048-Longest-String-Chain/">LeetCode 1048. Longest String Chain</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>You are given an array of <code>words</code> where each word consists of lowercase English letters.</p>
<p><code>wordA</code> is a <strong>predecessor</strong> of <code>wordB</code> if and only if we can insert <strong>exactly one</strong> letter anywhere in <code>wordA</code> <strong>without changing the order of the other characters</strong> to make it equal to <code>wordB</code>.</p>
<ul>
<li>For example, <code>&quot;abc&quot;</code> is a <strong>predecessor</strong> of <code>&quot;abac&quot;</code>, while <code>&quot;cba&quot;</code> is not a <strong>predecessor</strong> of <code>&quot;bcad&quot;</code>.</li>
</ul>
<p>A <strong>word chain</strong> is a sequence of words <code>[word1, word2, ..., wordk]</code> with <code>k &gt;= 1</code>, where <code>word1</code> is a <strong>predecessor</strong> of <code>word2</code>, <code>word2</code> is a <strong>predecessor</strong> of <code>word3</code>, and so on. A single word is trivially a <strong>word chain</strong> with <code>k == 1</code>.</p>
<p>Return <em>the <strong>length</strong> of the <strong>longest possible word chain</strong> with words chosen from the given list of</em> <code>words</code>. </p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: words = [&quot;a&quot;,&quot;b&quot;,&quot;ba&quot;,&quot;bca&quot;,&quot;bda&quot;,&quot;bdca&quot;]</span><br><span class="line">Output: 4</span><br><span class="line">Explanation: One of the longest word chains is [&quot;a&quot;,&quot;ba&quot;,&quot;bda&quot;,&quot;bdca&quot;].</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: words = [&quot;xbc&quot;,&quot;pcxbcf&quot;,&quot;xb&quot;,&quot;cxbc&quot;,&quot;pcxbc&quot;]</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: All the words can be put in a word chain [&quot;xb&quot;, &quot;xbc&quot;, &quot;cxbc&quot;, &quot;pcxbc&quot;, &quot;pcxbcf&quot;].</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: words = [&quot;abcd&quot;,&quot;dbqca&quot;]</span><br><span class="line">Output: 1</span><br><span class="line">Explanation: The trivial word chain [&quot;abcd&quot;] is one of the longest word chains.</span><br><span class="line">[&quot;abcd&quot;,&quot;dbqca&quot;] is not a valid word chain because the ordering of the letters is changed. </span><br></pre></td></tr></table></figure>

<p><strong>Constraints:</strong></p>
<ul>
<li><code>1 &lt;= words.length &lt;= 1000</code></li>
<li><code>1 &lt;= words[i].length &lt;= 16</code></li>
<li><code>words[i]</code> only consists of lowercase English letters.</li>
</ul>
<p>Source: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-string-chain/">https://leetcode.com/problems/longest-string-chain/</a></p>
<h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>Bottom-Up DP</p>
<p>For <code>words</code>, the length of longest string chain that ends with <code>word</code> equals $max(pre_0(word),pre_1(word),…,pre_{l-1}(word))+1$</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestStrChain</span><span class="params">(String[] words)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// parameter validation</span></span><br><span class="line">    <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// s -&gt; max length of string chain ending with s</span></span><br><span class="line">    Map&lt;String, Integer&gt; cache = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">// sort words by length of each word</span></span><br><span class="line">    Arrays.sort(words, <span class="keyword">new</span> Comparator&lt;String&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(String o1, String o2)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">return</span> o1.length() - o2.length();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">int</span> len = words.length;</span><br><span class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">int</span> currLen = <span class="number">1</span>;</span><br><span class="line">        StringBuilder temp = <span class="keyword">new</span> StringBuilder(words[i]);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; words[i].length(); k++) &#123;</span><br><span class="line">            <span class="keyword">char</span> c = temp.charAt(k);</span><br><span class="line">            temp.deleteCharAt(k);</span><br><span class="line">            String predecessor = temp.toString();</span><br><span class="line">            <span class="keyword">int</span> prevLen = cache.getOrDefault(predecessor, <span class="number">0</span>);</span><br><span class="line">            currLen = Math.max(currLen, prevLen + <span class="number">1</span>);</span><br><span class="line">            temp.insert(k, c); <span class="comment">// restore the change</span></span><br><span class="line">        &#125;</span><br><span class="line">        cache.put(words[i], currLen);</span><br><span class="line">        maxLen = Math.max(maxLen, currLen);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2021-12-30T04:08:38.000Z" title="12/29/2021, 11:08:38 PM">2021-12-29</time></span><span class="level-item">Updated&nbsp;<time dateTime="2022-01-08T23:41:56.873Z" title="1/8/2022, 6:41:56 PM">2022-01-08</time></span><span class="level-item"><a class="link-muted" href="/categories/LeetCode/">LeetCode</a></span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2021/12/29/LeetCode-134-Gas-Station/">LeetCode 134. Gas Station</a></h1><div class="content"><h2 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h2><p>There are <code>n</code> gas stations along a circular route, where the amount of gas at the <code>ith</code> station is <code>gas[i]</code>.</p>
<p>You have a car with an unlimited gas tank and it costs <code>cost[i]</code> of gas to travel from the <code>ith</code> station to its next <code>(i + 1)th</code> station. You begin the journey with an empty tank at one of the gas stations.</p>
<p>Given two integer arrays <code>gas</code> and <code>cost</code>, return <em>the starting gas station’s index if you can travel around the circuit once in the clockwise direction, otherwise return</em> <code>-1</code>. If there exists a solution, it is <strong>guaranteed</strong> to be <strong>unique</strong></p></div><a class="article-more button is-small is-size-7" href="/2021/12/29/LeetCode-134-Gas-Station/#more">Read more</a></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous is-invisible is-hidden-mobile"><a href="/categories/LeetCode/page/0/">Previous</a></div><div class="pagination-next"><a href="/categories/LeetCode/page/2/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link is-current" href="/categories/LeetCode/">1</a></li><li><a class="pagination-link" href="/categories/LeetCode/page/2/">2</a></li></ul></nav></div><!--!--><div class="column column-right is-4-tablet is-4-desktop is-4-widescreen  order-3"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/avatar_real.jpg" alt="Weihao Ye"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Weihao Ye</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Pittsburgh, PA</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">17</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">4</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">14</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/weihaoy-git" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/weihaoy-git"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="LinkedIn" href="https://www.linkedin.com/in/weihao-ye/"><i class="fab fa-linkedin"></i></a></div></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Algorithm-Template/"><span class="level-start"><span class="level-item">Algorithm Template</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/C-K-R/"><span class="level-start"><span class="level-item">C - K&amp;R</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/LeetCode/"><span class="level-start"><span class="level-item">LeetCode</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/Programming-Tips/"><span class="level-start"><span class="level-item">Programming Tips</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Array/"><span class="tag">Array</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/C/"><span class="tag">C</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Common-Substring/"><span class="tag">Common Substring</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DP/"><span class="tag">DP</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Delta/"><span class="tag">Delta</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Go/"><span class="tag">Go</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Monotonic/"><span class="tag">Monotonic</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Prefix-Sum/"><span class="tag">Prefix Sum</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Queue/"><span class="tag">Queue</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Sliding-Window/"><span class="tag">Sliding Window</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Stack/"><span class="tag">Stack</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/String/"><span class="tag">String</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Substring/"><span class="tag">Substring</span><span class="tag">2</span></a></div></div></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-10T01:13:47.000Z">2022-01-09</time></p><p class="title"><a href="/2022/01/09/LeetCode-76-Minimum-Window-Substring/">LeetCode 76. Minimum Window Substring</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-10T00:59:47.000Z">2022-01-09</time></p><p class="title"><a href="/2022/01/09/LeetCode-862-Shortest-Subarray-with-Sum-at-Least-K/">LeetCode 862. Shortest Subarray with Sum at Least K</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-09T22:30:29.000Z">2022-01-09</time></p><p class="title"><a href="/2022/01/09/LeetCode-239-Sliding-Window-Maximum/">LeetCode 239. Sliding Window Maximum</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-09T15:42:01.000Z">2022-01-09</time></p><p class="title"><a href="/2022/01/09/LeetCode-3-Longest-Substring-Without-Repeating-Characters/">LeetCode 3. Longest Substring Without Repeating Characters</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-09T15:28:52.000Z">2022-01-09</time></p><p class="title"><a href="/2022/01/09/LeetCode-155-Min-Stack/">LeetCode 155. Min Stack</a></p><p class="categories"><a href="/categories/LeetCode/">LeetCode</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">January 2022</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/icon_and_name_middle.png" alt="Yenotes" height="28"></a><p class="is-size-7"><span>&copy; 2022 Weihao Ye</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><script type="text/x-mathjax-config">MathJax.Hub.Config({
            'HTML-CSS': {
                matchFontHeight: false
            },
            SVG: {
                matchFontHeight: false
            },
            CommonHTML: {
                matchFontHeight: false
            },
            tex2jax: {
                inlineMath: [
                    ['$','$'],
                    ['\\(','\\)']
                ]
            }
        });</script><script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>